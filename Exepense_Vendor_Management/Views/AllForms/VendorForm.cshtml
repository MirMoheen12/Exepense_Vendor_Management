@model Expense_Vendor_Management.Models.Vendor

@{
    ViewData["Title"] = "VendorForm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .hidden {
        display: none;
    }

    .mandatory {
        color: red;
    }


    @@import url('https://fonts.googleapis.com/css2?family=Cairo:wght@500&display=swap');


    .tooltip-container {
        cursor: pointer;
        position: relative;
        display: inline-block;
    }

    .tooltip {
        opacity: 0;
        z-index: 99;
        color: #bbb;
        width: 300px;
        display: block;
        font-size: 13px;
        font-family: 'cairo',serif;
        padding: 5px 10px;
        border-radius: 3px;
        text-align: center;
        text-shadow: 1px 1px 2px #111;
        background: rgba(51,51,51,0.9);
        border: 1px solid rgba(34,34,34,0.9);
        box-shadow: 0 0 3px rgba(0,0,0,0.5);
        -webkit-transition: all .2s ease-in-out;
        -moz-transition: all .2s ease-in-out;
        -o-transition: all .2s ease-in-out;
        -ms-transition: all .2s ease-in-out;
        transition: all .2s ease-in-out;
        -webkit-transform: scale(0);
        -moz-transform: scale(0);
        -o-transform: scale(0);
        -ms-transform: scale(0);
        transform: scale(0);
        position: absolute;
        right: -180px;
        bottom: 30px;
    }

        .tooltip:before, .tooltip:after {
            content: '';
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid rgba(51,51,51,0.9);
            position: absolute;
            bottom: -10px;
            left: 43%;
        }

    .tooltip-container:hover .tooltip, a:hover .tooltip {
        opacity: 1;
        -webkit-transform: scale(1);
        -moz-transform: scale(1);
        -o-transform: scale(1);
        -ms-transform: scale(1);
        transform: scale(1);
    }
</style>

<div class="nk-block nk-block-lg">
    <div class="card card-bordered">
        <div class="card-inner">
            <div class="card-head">
                <h5 class="card-title">New Vendor Request Form</h5>
            </div>
            <form asp-action="VendorForm" asp-controller="AllForms" id="fileuploadlist" enctype="multipart/form-data" method="post">
                <div class="row g-4">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f" for="full-name-1">
                                Vendor Name<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <input type="Text" required class="form-control" asp-for="vendorName" id="full-name-1">
                            </div>
                        </div>
                    </div>
                 

                    <input type="text" class="custom-control-input" hidden name="newform" value="" id="newforminput">


                    <div class="col-lg-6" id="customername">
                                <div class="form-group">
                                    <label class="form-label" style="color:#241c4f">
                                        Contact Name<span class="mandatory">*</span>
                                    </label>
                                    <div class="form-control-wrap">
                                        <input asp-for="ContactName" required id="ContactName" class="form-control" type="text">
                                    </div>
                                </div>
                            </div>
                    <div class="col-lg-6" id="customerEmail">
                                <div class="form-group">
                                    <label class="form-label" style="color:#241c4f">
                                        Contact Email<span class="mandatory">*</span>
                                    </label>
                                    <div class="form-control-wrap">
                                        <input asp-for="ContactEmail" required id="ContactEmail" class="form-control" type="text">
                                    </div>
                                </div>
                            </div>
                    <div class="col-lg-6"  id="customerPhone">
                                <div class="form-group">


                            <label class="form-label tooltip-container" for="vendorName">
                                <div class="form-icon form-icon-right">
                                    <em class="icon ni ni-info" style="margin-left: 55PX;margin-top: -11PX;"></em>
                                </div>
                                Contact Phone<span class="mandatory">
                                    *
                                </span>

                                <span class="tooltip">If Contact Number not available just type N/A</span>

                            </label>


                                
                                    <div class="form-control-wrap">
                                        <input asp-for="ContactPhone" required id="ContactPhone" class="form-control" type="text">
                                    </div>
                                </div>
                            </div>
                    <div class="col-lg-6"  id="customerNumber">
                                <div class="form-group">
                                    <label class="form-label" style="color:#241c4f">
                                        Contact website<span class="mandatory">*</span>
                                    </label>
                                    <div class="form-control-wrap">
                                        <input asp-for="ContactWebsite" required id="ContactWebsite" class="form-control" type="text">
                                    </div>
                                </div>
                            </div>

                    </span>
                    
                    
                    
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f" for="costCenter">
                                Cost Center<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <input type="text" required class="form-control" id="costCenter" asp-for="costCenter">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f" for="productCenter">
                                Service Type<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control" id="productCenter" asp-for="poductType">
                                    <option value="coaching">Coaching</option>
                                    <option value="Correspondent Lender">Correspondent Lender</option>
                                    <option value="Individual Consultant">Individual Consultant</option>
                                    <option value="Insurance">Insurance</option>
                                    <option value="Leads">Leads</option>
                                    <option value="Lease">Lease</option>
                                    <option value="Marketing">Marketing</option>
                                    <option value="Professional Service">Professional Service</option>
                                    <option value="Software">Software</option>
                                    <option value="Utilities">Utilities</option>
                                    <option value="Verification Service">Verification Service</option>
                                    <option value="Warehouse Lender">Warehouse Lender</option>
                                    <option value="Wholesale Lender">Wholesale Lender</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6" style="display:none" id="othersermain">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Other Service<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <input type="text" name="otherserv" id="otherserv" class="form-control">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f" for="productCenter">
                                Renewal Period<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control"  asp-for="renewalPeriod">
                                    <option value="Monthly">Monthly</option>
                                    <option value="Quaterly">Quaterly</option>
                                    <option value="Semi Anually">Semi Anually</option>
                                    <option value="60 days">60 days</option>
                                    <option value="Yearly">Yearly</option>
                                    <option value="Other">Other</option>
                                   
                                </select>
                            </div>
                        </div>
                    </div>
              
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Product Category<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control" required id="Pcat" asp-for="catagory">
                                    <option selected>Accounting</option>
                                    <option>Building</option>
                                    <option>Compliance</option>
                                    <option>Insurance</option>
                                    <option>Investor</option>
                                    <option>Legal</option>
                                    <option>Marketing</option>
                                    <option>Operations</option>
                                    <option>Sales</option>
                                    <option>Other</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6" style="display:none" id="othercatmain">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Other Category<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <input type="text" name="othercat" id="othercat" class="form-control">
                            </div>
                        </div>
                    </div>
                   
          

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Contract Documents<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <input type="file" name="Contractdoc" multiple required class="form-control">
                            </div>
                        </div>
                    </div>

          @*           <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Assessments<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <input type="file" required name="assesmentsdoc" multiple class="form-control">
                            </div>
                        </div>
                    </div> *@

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f"  for="otherdocument">
                                Other Documents
                            </label>
                            <div class="form-control-wrap">
                                <input type="file" name="otherdoc" multiple class="form-control">
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f" for="paymentAmount">
                                Payment Amount<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control" id="paymentAmount" onchange="toggleTextBox()">
                                    <option value="">Select an Option</option>
                                    <option value="fixed">Fixed Amount</option>
                                    <option value="other">Variable</option>
                                </select>
                                <div id="fixedAmountWrap" class="input-group hidden">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">$</span>
                                    </div>
                                    <input type="text" id="paymentAmountTextBox" asp-for="paymentAmount" class="form-control" placeholder="Enter Amount">
                                </div>
                            </div>
                        </div>
                    </div>










                    <div class="col-lg-6" id="freq" style="display:none">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Frequency<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control" id="Freqdrop" asp-for="Frequency">
                                    <option value="Monthly">Monthly</option>
                                    <option value="Quarterly">Quarterly</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6" id="dolorate" style="display:none">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Dollar Amount Driver<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control" id="dolramt" asp-for="DlrAmt">
                                    <option value="Per Closed Loan">Per Closed Loan</option>
                                    <option value="Per User">Per User</option>
                                    <option value="Per Application">Per Application</option>
                                    <option value="Per Lead">Per Lead</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                        </div>
                    </div>




@* 
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Auto Payment<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control" asp-for="autoPayment" id="paymentAmount">
                                    <option selected value="Yes">Yes</option>
                                    <option value="No">NO</option>
                                </select>
                            </div>
                        </div>
                    </div> *@

             @*        <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f" for="contractExpiration">
                                Contract Expiration<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <input type="date" asp-for="contractExpiration" class="form-control" id="contractExpiration" min="@DateTime.Now.ToString("MM-dd-YYYY")"/>

                            </div>
                        </div>
                    </div> *@

            @*         <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Auto Renew<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control" required asp-for="autoRenew">
                                    <option selected value="Yes">Yes</option>
                                    <option value="No">NO</option>
                                </select>
                            </div>
                        </div>
                    </div> *@

              
             @*        <div class="col-sm-6">
                        <div class="form-group">
                            <label class="form-label">

                                Date To Cancel<span class="mandatory">*</span>

                            </label>
                            <div class="form-control-wrap">
                                <input type="date" asp-for="dateToCancel" class="form-control" id="contractExpiration" min="@DateTime.Now.ToString("MM-dd-YYYY")" />

                            </div>
                        </div>
                    </div> *@
                           
                    

                 
                          
                  @*           <div class="col-lg-6 align-center">
                                <div class="col-lg-7">
                                    <div class="form-group">
                                        <label class="form-label" style="color:#241c4f">Technology vendor</label>
                                <span class="form-note" style="color:#241c4f">Is this vendor a technology vendor Y/N</span>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                            <ul class="custom-control-group g-3 align-center flex-wrap">
                                <li>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" class="custom-control-input" value="true" checked name="TechnolgyVendor" id="reg-enable1">
                                        <label class="custom-control-label" for="reg-enable1">Yes</label>
                                    </div>
                                </li>
                                <li>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" class="custom-control-input" value="false" name="TechnolgyVendor" id="reg-disable1">
                                        <label class="custom-control-label" for="reg-disable1">No</label>
                                    </div>
                                </li>
                            </ul>

                                </div>
                            </div>
                    <div class="col-lg-6 align-center">
                        <div class="col-lg-7">
                            <div class="form-group">
                                <label class="form-label" style="color:#241c4f">Customer Access</label>
                                <span class="form-note" style="color:#241c4f">Will the Vendor have access to Customer or employee Personal/Private Information (PII)</span>
                            </div>
                        </div>
                        <div class="col-lg-5">
                            <ul class="custom-control-group g-3 align-center flex-wrap">
                                <li>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" class="custom-control-input" checked value="true" asp-for="CustomerAccess" id="reg-enable">
                                        <label class="custom-control-label" for="reg-enable">Yes</label>
                                    </div>
                                </li>
                                <li>
                                    <div class="custom-control custom-radio">
                                        <input type="radio" class="custom-control-input" value="false" asp-for="CustomerAccess" id="reg-disable">
                                        <label class="custom-control-label" for="reg-disable">No</label>
                                    </div>
                                </li>

                            </ul>
                        </div>
                    </div> *@
                    <div class="col-lg-6" >
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f">
                                Payment Type<span class="mandatory">*</span>
                            </label>
                            <div class="form-control-wrap">
                                <select class="form-control" id="Payment Type" required asp-for="PaymentType">
                                    <option value="ACH">ACH</option>
                                    <option value="Cheque">Cheque</option>
                                    <option value="Venmo">Venmo</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="form-group">
                            <label class="form-label" style="color:#241c4f" for="otherdocument">
                                Due Date
                            </label>
                            <div class="form-control-wrap">
                                <input type="date" asp-for="DueDate" class="form-control">
                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">

                    <div class="col-lg-2">
                        <div class="form-group">
                            <button type="submit" id="submitform" class="btn btn-lg btn-primary">Submit</button>
                        </div>
                    </div>

                    <div class="col-lg-4">
                        <div class="form-group">
                            <button type="button" class="btn btn-lg btn-primary" id="Newform">Submit and Add New</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
   
</div>
<script src="~/theme/assets/js/bundle.js"></script>
<script type="text/javascript">

    $(document).ready(function () {
       

        const amountInput = $('#paymentAmountTextBox');

        amountInput.on('input', function () {
            // Remove any non-numeric characters
            const rawValue = amountInput.val().replace(/[^0-9]/g, '');

            // Format the raw value as '20,000'
            const formattedValue = new Intl.NumberFormat('en-US').format(rawValue);

            // Update the input field with the formatted value
            amountInput.val(formattedValue);
        });

        $("#Newform").click(function () {
            $("#newforminput").val("New Val");
            $("#submitform").click();

            // You can perform other actions here
        });
        

        $("#productCenter").change(function () {
            if ($("#productCenter").val() == "Other") {
                $("#otherserv").prop("required", true);
                $('#othersermain').show();
            }
            else {
                $("#otherserv").prop("required", false);
                $('#othersermain').hide();
            }
        });


        $("#Pcat").change(function()
        {
            if($("#Pcat").val()=="Other")
            {
                $("#othercat").prop("required", true);
                $('#othercatmain').show();
            }
            else
            {
                $("#othercat").prop("required", false);
                $('#othercatmain').hide();
            }
        });
        // $("#paymentAmount").change(function () {
        //     if ($("#paymentAmount").val() == "Fixed Amount") {
        //         $("#Freqdrop").prop("required", true);
        //         $("#dolramt").prop("required", false);
        //         $('#freq').show();
        //         $('#dolorate').hide();
        //     }
        //     else if ($("#paymentAmount").val() == "Variable") {
        //         $("#dolramt").prop("required", true);
        //         $("#Freqdrop").prop("required", false);
        //         $('#dolorate').show();
        //         $('#freq').hide();
        //     }
        // });

        // Original function when the checkbox is changed
        $("#customSwitch1").change(function () {
            if ($(this).is(":checked")) 
            {
                $('#customername').show();
                $('#customerEmail').show();
                $('#customerPhone').show();
                $('#customerNumber').show();
                $("#ContactName").prop("required", true);
                $("#ContactEmail").prop("required", true);
                $("#ContactPhone").prop("required", true);
                $("#ContactWebsite").prop("required", true);

          
            } else {
                $('#customername').hide();
                $('#customerEmail').hide();
                $('#customerPhone').hide();
                $('#customerNumber').hide();
                $("#ContactName").prop("required", false);
                $("#ContactEmail").prop("required", false);
                $("#ContactPhone").prop("required", false);
                $("#ContactWebsite").prop("required", false);
            }
        });

        

    });
    function toggleTextBox() {
        var select = document.getElementById("paymentAmount");
        var fixedAmountWrap = document.getElementById("fixedAmountWrap");

        if (select.value === "fixed") {
            fixedAmountWrap.classList.remove("hidden");
        } 
        else {
            fixedAmountWrap.classList.add("hidden");
            $("#Freqdrop").prop("required", false);
            $("#dolramt").prop("required", false);
            $('#freq').hide();
            $('#dolorate').hide();
        }
        if (select.value == "fixed") {
            $("#Freqdrop").prop("required", true);
            $("#dolramt").prop("required", false);
            $('#freq').show();
            $('#dolorate').hide();
        }
        else if (select.value == "other") {
            $("#dolramt").prop("required", true);
            $("#Freqdrop").prop("required", false);
            $('#dolorate').show();
            $('#freq').hide();
        }
        
    }

</script>
